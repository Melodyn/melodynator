–í–æ—Ç **–ø–æ–Ω—è—Ç–Ω—ã–π –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥–∞–π–¥ –ø–æ `@nanostores/i18n`** ‚Äî –Ω–µ –∫–∞–∫ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –º–µ—Ç–æ–¥–æ–≤, –∞ –∫–∞–∫ **–∫–æ–Ω—Ü–µ–ø—Ü–∏—è + –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ + best practices**.

---

# üìå –û–±—â–∞—è –∏–¥–µ—è

`@nanostores/i18n` ‚Äî —ç—Ç–æ **–º–∏–Ω–∏–∞—Ç—é—Ä–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ (i18n)**, –∫–æ—Ç–æ—Ä–∞—è:

‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å Nanostores (—Ç–≤–æ–∏–º state-–º–µ–Ω–µ–¥–∂–µ—Ä–æ–º)
‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å React, Vue, Svelte –∏ –Ω–∞—Ç–∏–≤–Ω—ã–º JS
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –∑–∞–≥—Ä—É–∑–∫—É –ø–µ—Ä–µ–≤–æ–¥–æ–≤
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, plurals
‚úÖ –ú–∞–ª–µ–Ω—å–∫–∞—è (‚âà1 KB) –∏ –ø—Ä–æ—Å—Ç–∞—è –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
üß† –ù–µ —Ç—Ä–µ–±—É–µ—Ç —Å–ª–æ–∂–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤ –∏–ª–∏ heavy API
([GitHub][1])

–ì–ª–∞–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ: **–º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ ‚Äî —ç—Ç–æ —Ç–æ–∂–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**, –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç UI.

---

## üß© –ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã i18n

### üåç 1) `locale` ‚Äî —Ç–µ–∫—É—â–∞—è –ª–æ–∫–∞–ª—å

–õ–æ–∫–∞–ª—å ‚Äî —ç—Ç–æ –∫–æ–¥ —è–∑—ã–∫–∞/—Ä–µ–≥–∏–æ–Ωa, –Ω–∞–ø—Ä–∏–º–µ—Ä:

* `en`
* `fr`
* `ru`
* `de-AT`

–ï—ë —Ö—Ä–∞–Ω—è—Ç –∫–∞–∫ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (store), –∏ –ø—Ä–∏ —Å–º–µ–Ω–µ –ø–µ—Ä–µ–≤–æ–¥ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤–µ–∑–¥–µ, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è. ([GitHub][1])

---

### üì• 2) –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ª–æ–∫–∞–ª–∏ (fallback)

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç `localeFrom(...)` ‚Äî –∫–æ–Ω–≤–µ–π–µ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–±–∏—Ä–∞–µ—Ç:

1. override –∏–∑ —Ç–≤–æ–µ–≥–æ —Å—Ç–æ—Ä–µ
2. –±—Ä–∞—É–∑–µ—Ä–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
3. fallback
   ([GitHub][1])

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–∏–±–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —è–∑—ã–∫–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏–∑ localStorage, URL –∏ —Ç.–ø.).

---

### üóÉÔ∏è 3) `createI18n()` ‚Äî —Ñ–∞–±—Ä–∏–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

–≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è:
–û–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç:

* —Ç–µ–∫—É—â—É—é –ª–æ–∫–∞–ª—å
* –æ–±—ä–µ–∫—Ç —Å `get`-—Ñ—É–Ω–∫—Ü–∏–µ–π (–∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å JSON –ø–µ—Ä–µ–≤–æ–¥–æ–≤)

–ò –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–æ–π —Ç—ã –ø–µ—Ä–µ–¥–∞—ë—à—å –∫–ª—é—á–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤. ([GitHub][1])

---

### üî§ 4) –°–æ–æ–±—â–µ–Ω–∏—è (messages)

–°–æ–æ–±—â–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Ç–∞–∫:

```js
export const messages = i18n('namespace', {
  title: 'Hello World',
  desc: params('Hello {name}')
})
```

–≠—Ç–æ –¥–∞–µ—Ç:

* –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã
* –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ñ–æ—Ä–º–∞—Ç, –≥–¥–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω—è—Ç—å –ø—Ä–∏ –≤—ã–∑–æ–≤–µ
  ([GitHub][1])

---

### üîÅ 5) –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–ú–µ—Ç–æ–¥ `params()` –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—Å—Ç–∞–≤–ª—è—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä—å —Å—Ç—Ä–æ–∫–∏.

–ù–∞–ø—Ä–∏–º–µ—Ä:

```js
t.hello({ name: "Ivan" })
```

–ø–æ–¥—Å—Ç–∞–≤–∏—Ç –∏–º—è –≤ `{name}`. ([GitHub][1])

---

### üî¢ 6) –ü–ª—é—Ä–∞–ª–∏–∑–∞—Ü–∏—è (`count()`)

–§—É–Ω–∫—Ü–∏—è `count()` –ø–æ–º–æ–≥–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ñ–æ—Ä–º—É —Å–ª–æ–≤–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —á–∏—Å–ª–∞:

```js
export const messages = i18n('robots', {
  howMany: count({
    one: '{count} robot',
    many: '{count} robots'
  })
})
```

–ë—ç–∫–µ–Ω–¥ —ç—Ç–æ–π –ª–æ–≥–∏–∫–∏ ‚Äî **Intl.PluralRules**, –∫–æ—Ç–æ—Ä–∞—è —É—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤. ([GitHub][1])

–≠—Ç–æ –º–æ—â–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ñ–æ—Ä–º—ã –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ –≤ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö –æ—á–µ–Ω—å —Ä–∞–∑–Ω—ã–µ.

---

### üõ† 7) –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏/—á–∏—Å–µ–ª

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞ **Intl API** (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ JS).
–û–Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:

* `time()`
* `number()`
* `relativeTime()`

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞—Ç—ã/—á–∏—Å–ª–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ª–æ–∫–∞–ª—å—é. ([GitHub][1])

---

## üìÅ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ

### üß± 1) –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–∫–∞–ª–∏

```js
import { localeFrom, browser } from '@nanostores/i18n'
import { persistentAtom } from '@nanostores/persistent'

const setting = persistentAtom('locale', undefined)

export const locale = localeFrom(
  setting,
  browser({ available: ['en', 'fr', 'ru'], fallback: 'en' })
)
```

–≠—Ç–æ:

* –±–µ—Ä—ë—Ç –ª–æ–∫–∞–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
* fallback ‚Äî –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
* –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –≤—Ä—É—á–Ω—É—é
  ([GitHub][1])

---

### üíæ 2) –ù–∞—Å—Ç—Ä–æ–π–∫–∞ fetch (–ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤)

```js
import { createI18n } from '@nanostores/i18n'

export const i18n = createI18n(locale, {
  get(code) {
    return fetchJSON(`/translations/${code}.json`)
  }
})
```

–¢–∞–∫ –ø–µ—Ä–µ–≤–æ–¥—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω—ã** ‚Äî —ç–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞. ([GitHub][1])

---

### üß© 3) –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ

```js
export const messages = i18n('post', {
  title: 'Post details',
  desc: params('Posted at {time}')
})

const t = useStore(messages)
```

–¢–µ–ø–µ—Ä—å `t.title` –∏ `t.desc()` ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å—Ç—Ä–æ–∫–∏ *–¥–ª—è —Ç–µ–∫—É—â–µ–π –ª–æ–∫–∞–ª–∏*. ([GitHub][1])

---

### üß† 4) –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤

–ü–µ—Ä–µ–≤–æ–¥—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ **–ø–ª–æ—Å–∫–∏–π JSON**, –±–µ–∑ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```json
{
  "post": {
    "title": "...",
    "desc": "..."
  }
}
```

–≠—Ç–æ:

* —Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å –ø–µ—Ä–µ–≤–æ–¥—á–µ—Å–∫–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ (Weblate, POEditor)
* –ø—Ä–æ—Å—Ç–æ –¥–ª—è CI / –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–æ–≤
  ([GitHub][1])

---

## üì¶ Lazy Loading (–ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞)

–í –±–æ–ª—å—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö —Ç—ã –º–æ–∂–µ—à—å:

1. –†–∞–∑–±–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã –Ω–∞ –∫—É—Å–∫–∏ –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º –∏–ª–∏ —Ä–∞–∑–¥–µ–ª–∞–º
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π `get()` –¥–ª—è fetch –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
3. –ë—É—Ñ–µ—Ä–∏–∑–∏—Ä–æ–≤–∞—Ç—å —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã

–ù–∞–ø—Ä–∏–º–µ—Ä:

* `main/post`
* `settings/user`

–ò —Ç–æ–≥–¥–∞ `get` —Å–º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ JSON-—Ñ–∞–π–ª—ã. ([GitHub][1])

–≠—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç –æ–±—ä–µ–º –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É.

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–æ–≤ —É–¥–æ–±–Ω–æ:

* –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π atom –¥–ª—è `locale`
* –Ω–µ –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —Å–µ—Ç–µ–≤—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
* —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å UI –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö –ª–æ–∫–∞–ª—è—Ö

---

## üí° Best Practices (–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ)

### üü¢ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

üìå –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã –ø–æ –∑–æ–Ω–∞–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
–Ω–∞–ø—Ä–∏–º–µ—Ä:

```
/translations/en/main.json
/translations/en/settings.json
```

---

### üü¢ –õ–æ–∫–∞–ª—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

Locale ‚Üí store ‚Üí –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è
–≠—Ç–æ:

* –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–µ–Ω—è—Ç—å —è–∑—ã–∫ –≤ UI
* –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
  ([GitHub][1])

---

### üü¢ –ù–µ –∑–∞—Ö–∞—Ä–¥–∫–æ–¥–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ –≤ UI

–ü–∞–Ω–µ–ª–∏/–∫–Ω–æ–ø–∫–∏/—Ñ–æ—Ä–º–∞—Ç—ã ‚Äî –≤—Å—ë —á–µ—Ä–µ–∑ `i18n()`
–≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –∏–∑–±–µ–∂–∞—Ç—å ¬´–ø–ª–∞–≤–∞—é—â–∏—Ö¬ª —Å—Ç—Ä–æ–∫.

---

### üü¢ –ò—Å–ø–æ–ª—å–∑—É–π plural + params

–≠—Ç–æ –¥–µ–ª–∞–µ—Ç —Ç–≤–æ–π UI –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º
–∏ –∏–∑–±–∞–≤–ª—è–µ—Ç –æ—Ç –æ—à–∏–±–æ–∫, –∫–æ–≥–¥–∞ —á–∏—Å–ª–æ/–∏–º—è –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é. ([GitHub][1])

---

### üü° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–æ–∫

Lazy fetching ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
–∏ –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è SPA —Å –∫–æ–¥-—Å–ø–ª–∏—Ç—Ç–∏–Ω–≥–æ–º. ([GitHub][1])

---

## üö´ –ß–µ–≥–æ –∏–∑–±–µ–≥–∞—Ç—å

‚ùå –•—Ä–∞–Ω–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã –∫–∞–∫ JS-–æ–±—ä–µ–∫—Ç—ã –ø—Ä—è–º–æ –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
‚Äî —ç—Ç–æ —É–±–∏—Ä–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–∞ –ª–µ—Ç—É –∏ —Ä–æ—Å—Ç–∞.

‚ùå –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å fallback –ª–æ–∫–∞–ª—å
‚Äî —ç—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø—É—Å—Ç—ã–º —Å—Ç—Ä–æ–∫–∞–º –¥–ª—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —è–∑—ã–∫–æ–≤.

‚ùå –ó–∞–≤–∏—Å–µ—Ç—å –æ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ JSON
‚Äî —ç—Ç–æ –ª–æ–º–∞–µ—Ç SSR (–µ—Å–ª–∏ –ø–µ—Ä–µ–≤–æ–¥ –µ—â—ë –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω).

---

## ‚ú® –ß—Ç–æ —ç—Ç–æ –¥–∞—ë—Ç –≤ –∏—Ç–æ–≥–µ

| –°–≤–æ–π—Å—Ç–≤–æ         | –†–µ–∑—É–ª—å—Ç–∞—Ç                           |               |
| ---------------- | ----------------------------------- | ------------- |
| –ú–∏–Ω–∏–º–∞–ª–∏–∑–º       | –º–∞–ª–µ–Ω—å–∫–∏–π —Ä–∞–∑–º–µ—Ä                    |               |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è       | —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ –º–Ω–æ–≥–∏–º–∏ UI-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏ |               |
| –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ | –º–µ–Ω—å—à–µ —Ç—Ä–∞—Ñ–∏–∫–∞                      |               |
| –ü–ª–æ—Å–∫–∏–µ JSON     | –ø—Ä–æ—Å—Ç–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∞–º–∏      |               |
| Plural/params    | –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π UX –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤     | ([GitHub][1]) |

---

## üß† –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

`@nanostores/i18n` ‚Äî —ç—Ç–æ **–Ω–µ –ø—Ä–æ—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è `t()`** –∫–∞–∫ –≤ i18next.
–≠—Ç–æ **—Å–æ—Å—Ç–æ—è–Ω–∏–µ + –ø–µ—Ä–µ–≤–æ–¥**:

```
locale (store) ‚Üí translations (fetched) ‚Üí –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–∞–≥–∏—Ä—É–µ—Ç
```

–ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Intl**, –ø–æ—ç—Ç–æ–º—É –≤—Å–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –¥–∞—Ç/—á–∏—Å–µ–ª/–º–Ω–æ–∂–µ—Å—Ç–≤ —Ä–∞–±–æ—Ç–∞—é—Ç ¬´–∫–∞–∫ –Ω–∞–¥–æ¬ª. ([GitHub][1])

---

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å. –¢—ã –æ—á–µ–Ω—å —Ç–æ—á–Ω–æ –ø–æ–¥–º–µ—Ç–∏–ª –∫–ª—é—á–µ–≤—É—é —Ä–∞–∑–Ω–∏—Ü—É: **–≤ i18next –ø–µ—Ä–µ–≤–æ–¥—ã ‚Äî —ç—Ç–æ –¥–∞–Ω–Ω—ã–µ**, –∞ –≤ `@nanostores/i18n` ‚Äî **—Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**. –ù–∏–∂–µ ‚Äî –∏–º–µ–Ω–Ω–æ **–≥–∞–π–¥ –ø–æ —Å–º–µ–Ω–µ –º—ã—à–ª–µ–Ω–∏—è**, –∞ –Ω–µ –ø–æ API.

---

# üß† –ú–∏–≥—Ä–∞—Ü–∏—è –º—ã—à–ª–µ–Ω–∏—è: i18next ‚Üí Nanostores i18n

## 0. –ö–æ—Ä–æ—Ç–∫–æ –≤ –æ–¥–Ω–æ–π —Ñ—Ä–∞–∑–µ

> **i18next:** ¬´–¥–∞–π –º–Ω–µ —Å—Ç—Ä–æ–∫—É –ø–æ –∫–ª—é—á—É¬ª
> **nanostores/i18n:** ¬´—É –º–µ–Ω—è –µ—Å—Ç—å —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞, –∑–∞–≤–∏—Å—è—â–µ–µ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è¬ª

–≠—Ç–æ –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ —Ä–∞–∑–Ω—ã–µ –º–æ–¥–µ–ª–∏.

---

## 1. –û–±—ä–µ–∫—Ç –ø–µ—Ä–µ–≤–æ–¥–æ–≤ vs –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### i18next

```js
t('user.profile.name')
```

* –ï—Å—Ç—å **–≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç**
* –õ—é–±–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å
* –ö–ª—é—á ‚Äî –ø—Ä–æ—Å—Ç–æ —Å—Ç—Ä–æ–∫–∞
* `t()` ‚Äî —á–∏—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è
* React / backend ‚Äî –Ω–µ –≤–∞–∂–Ω–æ

üí° *–ü–µ—Ä–µ–≤–æ–¥—ã = –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è*

---

### Nanostores i18n

```ts
const messages = i18n('user', {
  profileName: 'Profile'
})
```

* –ü–µ—Ä–µ–≤–æ–¥—ã ‚Äî **—Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–π store**
* –ö–ª—é—á–∏ ‚Äî **—è–≤–Ω–æ –æ–ø–∏—Å–∞–Ω–Ω—ã–µ**
* `t.profileName` ‚Äî **—Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–¥–ø–∏—Å–∫–∏**
* UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

üí° *–ü–µ—Ä–µ–≤–æ–¥—ã = —á–∞—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è*

---

## 2. –û—Ç ¬´–ª—é–±–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏¬ª –∫ ¬´—è–≤–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ¬ª

### ‚ùå –°—Ç–∞—Ä–æ–µ –º—ã—à–ª–µ–Ω–∏–µ (i18next)

```json
{
  "user": {
    "profile": {
      "name": "Profile",
      "edit": "Edit profile"
    }
  }
}
```

```js
t('user.profile.edit')
```

–≠—Ç–æ —É–¥–æ–±–Ω–æ, –Ω–æ:

* –∫–ª—é—á–∏ ‚Äî —Å—Ç—Ä–æ–∫–∏
* –Ω–µ—Ç –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç–∞
* –ª–µ–≥–∫–æ –æ—à–∏–±–∏—Ç—å—Å—è
* —Å–ª–æ–∂–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å

---

### ‚úÖ –ù–æ–≤–æ–µ –º—ã—à–ª–µ–Ω–∏–µ (Nanostores)

```ts
export const userMessages = i18n('user', {
  profileName: 'Profile',
  editProfile: 'Edit profile'
})
```

```ts
const t = useStore(userMessages)
t.editProfile
```

**–¢—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä—É–µ—à—å API –¥–ª—è —Ç–µ–∫—Å—Ç–∞**, –∞ –Ω–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å—Ç—Ä–æ–∫.

---

## 3. t() –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è vs store –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã

### i18next

```js
t('cart.items', { count })
```

–¢—ã –∫–∞–∂–¥—ã–π —Ä–∞–∑:

* –¥–µ—Ä–≥–∞–µ—à—å —Ñ—É–Ω–∫—Ü–∏—é
* –ø–µ—Ä–µ–¥–∞—ë—à—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
* —Å–∞–º —Å–ª–µ–¥–∏—à—å –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º UI

---

### Nanostores

```ts
const messages = i18n('cart', {
  items: count({
    one: '{count} item',
    many: '{count} items'
  })
})
```

```ts
t.items({ count })
```

üß† **–ö–ª—é—á–µ–≤–æ–π —Å–¥–≤–∏–≥:**

> —Ç—ã –Ω–µ ¬´–≤—ã–∑—ã–≤–∞–µ—à—å –ø–µ—Ä–µ–≤–æ–¥¬ª,
> —Ç—ã **–ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—à—å—Å—è –Ω–∞ –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ**

---

## 4. –õ–æ–∫–∞–ª—å ‚Äî —ç—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∞ –Ω–µ –≥–ª–æ–±–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### i18next

```js
i18n.changeLanguage('ru')
```

* –ì–ª–æ–±–∞–ª—å–Ω—ã–π —Å–∏–Ω–≥–ª—Ç–æ–Ω
* –ú–∞–≥–∏—è –≤–Ω—É—Ç—Ä–∏
* UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è ¬´–ø–æ—Ç–æ–º—É —á—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ç–∞–∫ —Ä–µ—à–∏–ª–∞¬ª

---

### Nanostores

```ts
export const locale = localeFrom(...)
```

```ts
locale.set('ru')
```

* –õ–æ–∫–∞–ª—å = store
* –ú–æ–∂–Ω–æ:

  * –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å
  * —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
  * —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å
  * –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏

üß† **–¢—ã —É–ø—Ä–∞–≤–ª—è–µ—à—å –ª–æ–∫–∞–ª—å—é –∫–∞–∫ —á–∞—Å—Ç—å—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏**

---

## 5. Backend-–º—ã—à–ª–µ–Ω–∏–µ ‚Üí UI-–º—ã—à–ª–µ–Ω–∏–µ

–¢—ã –ø–∏—Å–∞–ª, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª i18next **–Ω–∞ –±—ç–∫–µ–Ω–¥–µ** ‚Äî —ç—Ç–æ –≤–∞–∂–Ω–æ.

### Backend

* –∑–∞–ø—Ä–æ—Å ‚Üí –æ—Ç–≤–µ—Ç
* –ø–µ—Ä–µ–≤–æ–¥—ã ‚Äî —Å—Ç–∞—Ç–∏—á–Ω—ã
* –Ω–µ—Ç –ø–æ–¥–ø–∏—Å–æ–∫
* –Ω–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —Ä–µ–Ω–¥–µ—Ä–æ–≤

---

### Frontend (Nanostores)

* —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–Ω—è–µ—Ç—Å—è
* UI —Ä–µ–∞–≥–∏—Ä—É–µ—Ç
* –ø–µ—Ä–µ–≤–æ–¥—ã –¥–æ–ª–∂–Ω—ã:

  * –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å—Å—è
  * –±—ã—Ç—å –ª—ë–≥–∫–∏–º–∏
  * –±—ã—Ç—å –ª–µ–Ω–∏–≤—ã–º–∏

üí° –ü–æ—ç—Ç–æ–º—É:

* –Ω–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
* –µ—Å—Ç—å lazy loading
* –µ—Å—Ç—å scoped messages

---

## 6. ¬´–û–¥–∏–Ω –±–æ–ª—å—à–æ–π JSON¬ª ‚Üí ¬´–º–æ–¥—É–ª–∏¬ª

### i18next

```txt
translations.json (1000+ —Å—Ç—Ä–æ–∫)
```

* –ø—Ä–æ—Å—Ç–æ
* –Ω–æ –ø–ª–æ—Ö–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è
* –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≥—Ä—É–∑–∏—Ç—å —á–∞—Å—Ç—è–º–∏

---

### Nanostores i18n

```txt
/feature-a/messages.ts
/feature-b/messages.ts
/translations/en/feature-a.json
```

–ö–∞–∂–¥—ã–π –∫—É—Å–æ–∫:

* –∂–∏–≤—ë—Ç —Ä—è–¥–æ–º —Å –∫–æ–¥–æ–º
* –≥—Ä—É–∑–∏—Ç—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
* –ª–µ–≥–∫–æ —É–¥–∞–ª—è–µ—Ç—Å—è

üß† **–ü–µ—Ä–µ–≤–æ–¥—ã —Å–ª–µ–¥—É—é—Ç –∑–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π, –∞ –Ω–µ –Ω–∞–æ–±–æ—Ä–æ—Ç**

---

## 7. –ö–ª—é—á–∏ –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏ ‚Üí –∫–ª—é—á–∏ –∫–∞–∫ —Ç–∏–ø—ã

### i18next

```ts
t('user.profile.nmae') // –æ–ø–µ—á–∞—Ç–∫–∞ ‚Äî —É–ø—Å
```

---

### Nanostores + TS

```ts
t.profileName // –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç
```

* —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑–æ–ø–∞—Å–µ–Ω
* IDE –ø–æ–º–æ–≥–∞–µ—Ç
* –º–µ–Ω—å—à–µ runtime-–æ—à–∏–±–æ–∫

üß† **–ü–µ—Ä–µ–≤–æ–¥—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —á–∞—Å—Ç—å—é —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ API**

---

## 8. –ö–æ–≥–¥–∞ –ù–ï —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Nanostores i18n

–ß—Ç–æ–±—ã –±—ã–ª–æ —á–µ—Å—Ç–Ω–æ:

‚ùå –ï—Å–ª–∏ —É —Ç–µ–±—è:

* –ø—Ä–æ—Å—Ç–æ–π backend-—Å–µ—Ä–≤–∏—Å
* –Ω–µ—Ç UI
* –Ω–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è
* –Ω–µ—Ç —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

‚û°Ô∏è i18next –ª–æ–≥–∏—á–Ω–µ–µ

---

## 9. –ú–µ–Ω—Ç–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å (–æ—á–µ–Ω—å –≤–∞–∂–Ω–æ)

### i18next

```
–∫–ª—é—á ‚Üí —Å—Ç—Ä–æ–∫–∞
```

---

### Nanostores i18n

```
locale
   ‚Üì
translations (lazy)
   ‚Üì
message store
   ‚Üì
UI
```

–¢—ã –±–æ–ª—å—à–µ –Ω–µ ¬´–∏—â–µ—à—å —Å—Ç—Ä–æ–∫—É¬ª,
—Ç—ã **–Ω–∞–±–ª—é–¥–∞–µ—à—å –∑–∞ –∑–Ω–∞—á–µ–Ω–∏–µ–º**.

---

## 10. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å–æ–≤–µ—Ç –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏

### –®–∞–≥ 1

–ü–µ—Ä–µ—Å—Ç–∞–Ω—å –¥—É–º–∞—Ç—å –≤ —Ç–µ—Ä–º–∏–Ω–∞—Ö ¬´–∫–ª—é—á–µ–π¬ª

### –®–∞–≥ 2

–ù–∞—á–Ω–∏ –¥—É–º–∞—Ç—å –≤ —Ç–µ—Ä–º–∏–Ω–∞—Ö:

* ¬´—Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏¬ª
* ¬´–∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–∫—Ü–∏–∏¬ª
* ¬´—Å–æ–æ–±—â–µ–Ω–∏–µ –æ—à–∏–±–∫–∏¬ª

### –®–∞–≥ 3

–ì—Ä—É–ø–ø–∏—Ä—É–π –ø–µ—Ä–µ–≤–æ–¥—ã **–ø–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**, –∞ –Ω–µ –ø–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏

---

## üß© –§–∏–Ω–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–æ–≥–∏—è

> i18next ‚Äî —ç—Ç–æ **—Å–ª–æ–≤–∞—Ä—å**
> Nanostores i18n ‚Äî —ç—Ç–æ **—Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–π —Å–ª–æ–π UI**

–ò —Ç—ã, –∫–∞–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ—Ä, —Å—Ç–∞–Ω–æ–≤–∏—à—å—Å—è –Ω–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–º —Å–ª–æ–≤–∞—Ä—è,
–∞ **–∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–æ–º —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ API –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**.

---

–û—Ç–ª–∏—á–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç, —Å–ø–∞—Å–∏–±–æ, —á—Ç–æ –Ω–∞–ø–æ–º–Ω–∏–ª: **–Ω–µ–±–æ–ª—å—à–æ–π SPA, –±–µ–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏, –º–∞–∫—Å–∏–º—É–º –Ω–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏**. –≠—Ç–æ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ –ª–æ–∂–∏—Ç—Å—è –Ω–∞ Nanostores –∏ –∏—Ö i18n ‚Äî –¥–∞–∂–µ –ª—É—á—à–µ, —á–µ–º –Ω–∞ React.

–ù–∏–∂–µ ‚Äî **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –≥–∞–π–¥ –∏–º–µ–Ω–Ω–æ –ø–æ–¥ —Ç–∞–∫–æ–π –ø—Ä–æ–µ–∫—Ç**, —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ *—Å—É—â–Ω–æ—Å—Ç–∏*, –∞ –Ω–µ –Ω–∞ API.

---

# üß± –ö–ª—é—á–µ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ `@nanostores/i18n` (–≤ —Ç–≤–æ—ë–º —Ñ–æ—Ä–º–∞—Ç–µ –ø—Ä–æ–µ–∫—Ç–∞)

–ï—Å–ª–∏ —É–ø—Ä–æ—Å—Ç–∏—Ç—å, –≤ –ø—Ä–æ–µ–∫—Ç–µ –±—É–¥–µ—Ç –≤—Å–µ–≥–æ **4 —Å—É—â–Ω–æ—Å—Ç–∏**:

1. **Locale (–ª–æ–∫–∞–ª—å)** ‚Äî –∫–∞–∫–æ–µ —Å–µ–π—á–∞—Å –≤—ã–±—Ä–∞–Ω —è–∑—ã–∫
2. **I18n engine** ‚Äî –∫–∞–∫ –∑–∞–≥—Ä—É–∂–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã
3. **Messages (–≥—Ä—É–ø–ø—ã —Ç–µ–∫—Å—Ç–æ–≤)** ‚Äî –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –Ω–∞–±–æ—Ä—ã —Å—Ç—Ä–æ–∫
4. **Bindings (—Å–≤—è–∑–∫–∞ —Å DOM)** ‚Äî –∫–∞–∫ —Ç–µ–∫—Å—Ç –ø–æ–ø–∞–¥–∞–µ—Ç –≤ HTML

–†–∞–∑–±–µ—Ä—ë–º –ø–æ –ø–æ—Ä—è–¥–∫—É.

---

## 1Ô∏è‚É£ Locale ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —è–∑—ã–∫–∞

**–ß—Ç–æ —ç—Ç–æ:**
–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –≥–ª–æ–±–∞–ª—å–Ω—ã–π store, –∫–æ—Ç–æ—Ä—ã–π –∑–Ω–∞–µ—Ç, –∫–∞–∫–æ–π —è–∑—ã–∫ —Å–µ–π—á–∞—Å –∞–∫—Ç–∏–≤–µ–Ω.

üìÅ `src/stores/locale.ts`

```ts
import { localeFrom, browser } from '@nanostores/i18n'
import { persistentAtom } from '@nanostores/persistent'

export const locale = localeFrom(
  persistentAtom<string | undefined>('locale', undefined),
  browser({
    available: ['en', 'ru'],
    fallback: 'en'
  })
)
```

### –†–æ–ª—å –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

* –≠—Ç–æ **–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –≥–ª–æ–±–∞–ª—å–Ω—ã–π i18n-state**
* –ú–µ–Ω—è–µ—Ç—Å—è ‚Üí –≤—Å—ë UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
* –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è **–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤**

üß† –ú–µ–Ω—Ç–∞–ª—å–Ω–æ:

> locale ‚Äî —ç—Ç–æ —á–∞—Å—Ç—å –±–∏–∑–Ω–µ—Å-—Å–æ—Å—Ç–æ—è–Ω–∏—è, –∞ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

---

## 2Ô∏è‚É£ I18n engine ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

**–ß—Ç–æ —ç—Ç–æ:**
–ù–∞—Å—Ç—Ä–æ–π–∫–∞, *–æ—Ç–∫—É–¥–∞* –±—Ä–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã.

üìÅ `src/i18n/index.ts`

```ts
import { createI18n } from '@nanostores/i18n'
import { locale } from '../stores/locale'

export const i18n = createI18n(locale, {
  async get(code) {
    return (await import(`../translations/${code}.json`)).default
  }
})
```

### –†–æ–ª—å

* –ê–±—Å—Ç—Ä–∞–≥–∏—Ä—É–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –ø–µ—Ä–µ–≤–æ–¥–æ–≤
* –ü–æ–∑–≤–æ–ª—è–µ—Ç:

  * lazy loading
  * code splitting
  * —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

üß† –ú–µ–Ω—Ç–∞–ª—å–Ω–æ:

> i18n ‚Äî —ç—Ç–æ ¬´—Å–µ—Ä–≤–∏—Å¬ª, –∞ –Ω–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å—Ç—Ä–æ–∫

---

## 3Ô∏è‚É£ Messages ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å (–∫–ª—é—á–µ–≤–∞—è)

–≠—Ç–æ **—Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ**.

### –ß—Ç–æ —Ç–∞–∫–æ–µ messages?

–≠—Ç–æ **store, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —á–∞—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**.

üìÅ `src/i18n/main.ts`

```ts
import { i18n } from './index'

export const mainMessages = i18n('main', {
  title: 'Guitar Fretboard',
  settings: 'Settings',
  reset: 'Reset'
})
```

üìÅ `src/i18n/settings.ts`

```ts
import { i18n } from './index'
import { params } from '@nanostores/i18n'

export const settingsMessages = i18n('settings', {
  tuning: 'Tuning',
  octave: params('Octave {value}')
})
```

### –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ

* Messages:

  * –Ω–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ
  * –Ω–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ
  * –Ω–µ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –∫–ª—é—á–∏
* –û–Ω–∏ **–æ—Ç—Ä–∞–∂–∞—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**

üß† –ú–µ–Ω—Ç–∞–ª—å–Ω–æ:

> messages ‚Äî —ç—Ç–æ –ø—É–±–ª–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π API —á–∞—Å—Ç–∏ UI

---

## 4Ô∏è‚É£ Bindings ‚Äî —Å–≤—è–∑–∫–∞ —Å DOM (–±–µ–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)

–¢–∞–∫ –∫–∞–∫ —É —Ç–µ–±—è **–Ω–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**, –Ω—É–∂–Ω–æ —è–≤–Ω–æ —Å–≤—è–∑–∞—Ç—å store —Å DOM.

### –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω: `bindText`

üìÅ `src/i18n/bind.ts`

```ts
import type { ReadableAtom } from 'nanostores'

export function bindText(
  el: HTMLElement,
  store: ReadableAtom<any>,
  key: string,
  params?: () => any
) {
  let unsubscribe = store.subscribe(value => {
    el.textContent = params
      ? value[key](params())
      : value[key]
  })

  return unsubscribe
}
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```ts
import { mainMessages } from './i18n/main'

const title = document.querySelector('#title')!
bindText(title, mainMessages, 'title')
```

üìå –≠—Ç–æ –∏ –µ—Å—Ç—å ¬´—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥¬ª –≤ —Ç–≤–æ—ë–º SPA.

---

## üìÅ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
 ‚îú‚îÄ i18n/
 ‚îÇ   ‚îú‚îÄ index.ts          # createI18n
 ‚îÇ   ‚îú‚îÄ main.ts           # messages –¥–ª—è main UI
 ‚îÇ   ‚îú‚îÄ settings.ts       # messages –¥–ª—è popover / –ø–∞–Ω–µ–ª–∏
 ‚îÇ   ‚îî‚îÄ bind.ts           # —É—Ç–∏–ª–∏—Ç—ã DOM-binding
 ‚îÇ
 ‚îú‚îÄ stores/
 ‚îÇ   ‚îî‚îÄ locale.ts
 ‚îÇ
 ‚îú‚îÄ translations/
 ‚îÇ   ‚îú‚îÄ en.json
 ‚îÇ   ‚îî‚îÄ ru.json
 ‚îÇ
 ‚îú‚îÄ ui/
 ‚îÇ   ‚îú‚îÄ main.ts           # —Ä–∞–±–æ—Ç–∞ —Å DOM
 ‚îÇ   ‚îî‚îÄ settings.ts
 ‚îÇ
 ‚îî‚îÄ main.ts
```

---

## üîÑ –ö–∞–∫ –≤—Å—ë —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è (–ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö)

```
locale store
     ‚Üì
createI18n
     ‚Üì
messages store
     ‚Üì
bindText / subscribe
     ‚Üì
DOM
```

–¢—ã –≤—Ä—É—á–Ω—É—é —É–ø—Ä–∞–≤–ª—è–µ—à—å –ø–æ—Å–ª–µ–¥–Ω–∏–º —à–∞–≥–æ–º ‚Äî –∏ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.

---

## üü¢ Best practices –¥–ª—è –º–∞–ª–µ–Ω—å–∫–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### ‚úî –î–µ–ª–∞–π messages –º–∞–ª–µ–Ω—å–∫–∏–º–∏

–õ—É—á—à–µ 5 –º–∞–ª–µ–Ω—å–∫–∏—Ö message-store, —á–µ–º –æ–¥–∏–Ω –±–æ–ª—å—à–æ–π.

---

### ‚úî –î–µ—Ä–∂–∏ messages —Ä—è–¥–æ–º —Å –ª–æ–≥–∏–∫–æ–π

–ï—Å–ª–∏ –µ—Å—Ç—å `settings.ts` ‚Üí –ø—É—Å—Ç—å –±—É–¥–µ—Ç `settingsMessages`.

---

### ‚úî –û–¥–∏–Ω message-store = –æ–¥–Ω–∞ –∑–æ–Ω–∞ UI

Popover, —Ç–∞–±–ª–∏—Ü–∞, —Ç—É–ª–±–∞—Ä ‚Äî —Ä–∞–∑–Ω—ã–µ stores.

---

### ‚úî –ù–µ —Ö—Ä–∞–Ω–∏ —Å—Ç—Ä–æ–∫–∏ –≤ HTML

HTML ‚Äî —Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞.

---

### ‚úî –ò—Å–ø–æ–ª—å–∑—É–π params –¥–∞–∂–µ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤

–≠—Ç–æ —É–±–µ—Ä–µ–∂—ë—Ç –æ—Ç –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è –ø–æ—Ç–æ–º.

---

## üö´ –ß–µ–≥–æ –Ω–µ —Å—Ç–æ–∏—Ç –¥–µ–ª–∞—Ç—å

‚ùå –û–¥–∏–Ω –≥–ª–æ–±–∞–ª—å–Ω—ã–π `messages`
‚ùå –ì–ª—É–±–æ–∫—É—é –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –∫–ª—é—á–µ–π
‚ùå –û–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –ø–µ—Ä–µ–≤–æ–¥–∞–º –Ω–∞–ø—Ä—è–º—É—é (`i18n.get`)
‚ùå –î–µ–ª–∞—Ç—å ¬´–º–∞–≥–∏—á–µ—Å–∫–∏–π¬ª –∞–≤—Ç–æ-—Ä–µ–Ω–¥–µ—Ä –±–µ–∑ —è–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏

---

## üß† –ò—Ç–æ–≥–æ–≤–∞—è –º–æ–¥–µ–ª—å (–æ—á–µ–Ω—å –∫—Ä–∞—Ç–∫–æ)

| –°—É—â–Ω–æ—Å—Ç—å | –ß—Ç–æ —ç—Ç–æ                  |
| -------- | ------------------------ |
| locale   | –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ     |
| i18n     | —Å–µ—Ä–≤–∏—Å –∑–∞–≥—Ä—É–∑–∫–∏          |
| messages | —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π API |
| bind     | –º–æ—Å—Ç –º–µ–∂–¥—É state –∏ DOM   |

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, –¥–∞–ª—å—à–µ –º–æ–∂–µ–º:

* —Å–¥–µ–ª–∞—Ç—å **–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–¥ Vite**
* —Ä–∞–∑–æ–±—Ä–∞—Ç—å **—Ä–µ–∞–ª—å–Ω—ã–π –∫—É—Å–æ–∫ —Ç–≤–æ–µ–≥–æ UI (—Ç–∞–±–ª–∏—Ü–∞ + popover)**
* –∏–ª–∏ –ø—Ä–∏–¥—É–º–∞—Ç—å **—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π mini-—Ä–µ–Ω–¥–µ—Ä–µ—Ä –¥–ª—è DOM**

–°–∫–∞–∂–∏, –∫—É–¥–∞ –∏–¥—ë–º –¥–∞–ª—å—à–µ üëå
